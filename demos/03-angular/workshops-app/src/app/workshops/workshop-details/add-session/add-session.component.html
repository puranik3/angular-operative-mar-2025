<div class="d-flex justify-content-between align-items-center">
  <h2 class="my-3">Add a session</h2>
  <button class="btn btn-primary" id="list-sessions">List of sessions</button>
</div>

<hr />

<!-- Angular creates an object for the form (NgForm) -->
<form
  id="add-session-form"
  #addSessionForm="ngForm"
  (ngSubmit)="addSession(addSessionForm)"
>
  <div class="mb-3">
    <label for="sequenceId" class="form-label">Sequence ID</label>
    <input
      type="text"
      class="form-control"
      id="sequenceId"
      name="sequenceId"
      ngModel
      required
      pattern="\d+"
      autocomplete="off"
      #sequenceId="ngModel"
    />
    <!-- sequenceId is now a FormControl object reference -->
    @if( sequenceId.invalid && ( sequenceId.touched || sequenceId.dirty ) &&
    sequenceId.errors ) {
    <div class="error-message">
      @if(sequenceId.errors['required']) {
      <div>This is required</div>
      } @if(sequenceId.errors['pattern']) {
      <div>Provide a positive number</div>
      }
    </div>
    }
  </div>
  <div class="mb-3">
    <label for="name" class="form-label">Name</label>
    <input
      type="text"
      class="form-control"
      id="name"
      name="name"
      required
      pattern="[A-Z][A-Za-z ]+"
      ngModel
      #name="ngModel"
    />
    @if( name.invalid && ( name.touched || name.dirty ) && name.errors ) {
    <div class="error-message">
      @if(name.errors['required']) {
      <div>This is required</div>
      } @if(name.errors['pattern']) {
      <div>Provide a valid name (only letters and spaces)</div>
      }
    </div>
    }
  </div>
  <div class="mb-3">
    <label for="speaker" class="form-label">Speaker</label>
    <input
      type="text"
      class="form-control"
      id="speaker"
      name="speaker"
      ngModel
    />
  </div>
  <div class="mb-3">
    <label for="duration" class="form-label">Duration</label>
    <input
      type="number"
      class="form-control"
      id="duration"
      name="duration"
      ngModel
    />
  </div>
  <div class="mb-3">
    <label for="level" class="form-label">Level</label>
    <select class="form-select" id="level" name="level" ngModel>
      <option value="">-- Select a level --</option>
      <option value="Basic">Basic</option>
      <option value="Intermediate">Intermediate</option>
      <option value="Advanced">Advanced</option>
    </select>
  </div>
  <div class="mb-3">
    <label for="abstract" class="form-label">Abstract</label>
    <textarea
      class="form-control"
      id="abstract"
      rows="3"
      name="abstract"
      ngModel
    ></textarea>
  </div>
  <div class="mb-3">
    <button class="btn btn-primary" [disabled]="addSessionForm.invalid">
      Add session
    </button>
  </div>
</form>
